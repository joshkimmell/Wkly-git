/* @import "./styles/theme.css"; */
@tailwind base;
@tailwind components;
@tailwind theme;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased text-gray-90 dark:text-gray-10 bg-gray-10 dark:bg-gray-90;
  }
  button {
    @apply appearance-none inline-flex items-center px-2 py-2 border border-gray-30 dark:border-gray-70 text-gray-80 dark:text-gray-20 text-sm font-medium rounded-md shadow-sm text-brand-0 bg-brand-60 hover:bg-brand-80 hover:text-brand-10;
    &:disabled {
      @apply opacity-50 cursor-not-allowed;
    }
  }
  a {
    @apply text-brand-70 hover:text-brand-50 focus:outline-none;
  }
  label {
    @apply block text-sm font-medium text-gray-70 dark:text-gray-40;
  }
  input, textarea {
    @apply pr-3 bg-transparent border-b rounded-none border-gray-30 dark:border-gray-70 px-4 py-2 text-gray-90 dark:text-gray-10 fill-gray-70 dark:fill-gray-40 text-2xl ;
  }
  select {
    @apply pr-3 bg-transparent border-b rounded-none border-gray-30 dark:border-gray-70 px-4 py-2 text-lg text-gray-90 dark:text-gray-10 fill-gray-70 dark:fill-gray-40;
  }
  ::-webkit-calendar-picker-indicator {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 24 24"><path class="fill-current" fill="%23AAAAAA" fill-rule="evenodd" d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/></svg>');
  }
  h1, h2, h3, h4, h5, h6 {
    @apply text-brand-70 dark:text-brand-30;
  }

  .ql-snow button {
    @apply stroke-gray-70 dark:stroke-gray-40 hover:stroke-gray-90 dark:hover:stroke-gray-10 hover:bg-gray-20 dark:hover:bg-gray-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70;
  }
  
  .ql-snow .ql-stroke  {
    @apply stroke-gray-70 dark:stroke-gray-40 hover:stroke-gray-90 dark:hover:stroke-gray-10 /*focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70 !important*/;
  }

  .ql-editor p {
    @apply text-gray-90 dark:text-gray-10;
  }

  .tabs li a.active {
    @apply text-brand-60 border-brand-60 dark:text-brand-10 dark:border-brand-10 border-b-2;
  }
  .goal-title {
        @apply text-lg text-gray-90 dark:text-gray-10 font-medium;
    }

  .goal-description {
      @apply text-gray-60 dark:text-gray-40 mt-1 text-xl;
  }

  .goal-category {
      @apply flex flex-col w-auto px-2.5 py-0.5 rounded-full text-xs font-medium bg-brand-10 dark:bg-brand-70 text-brand-90 dark:text-brand-20 mt-2;
  }

  .goal-week-start {
      @apply hidden;
  }

  .highlight {
    @apply inline bg-brand-10 text-brand-90 dark:bg-brand-10 dark:text-brand-80;
  }

  .card-category {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-normal bg-brand-0 dark:bg-brand-70 border border-brand-90 dark:border-brand-10 text-brand-90 dark:text-brand-10 mt-2 text-nowrap;
  }

  .card-status {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-normal mt-2 text-nowrap !important;
  } 
  .card-category span.highlight {
    @apply inline bg-brand-30 text-brand-80 ;
  }

  /* .card-status {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-20 dark:bg-gray-60 text-gray-90 dark:text-gray-10 mt-2;
  } */
  .card-status span.highlight {
    @apply inline bg-brand-30 text-brand-80 ;
  }

}

@theme static {
  --*: initial;
  --color-background: var(--color-gray-10);
  --color-background-inverse: var(--color-gray-100);

  --color-text-primary: var(--color-gray-90);
  --color-text-secondary: var(--color-gray-70);
  --color-text-tertiary: var(--color-gray-50);
  --color-text-inverse: var(--color-gray-10);

  --color-icon-primary: var(--color-gray-90);
  --color-icon-secondary: var(--color-gray-70);
  --color-icon-tertiary: var(--color-gray-50);
  --color-icon-inverse: var(--color-gray-10);
  --color-icon-interactive: var(--color-brand-70);
  --color-icon-interactive-hover: var(--color-brand-90);

  --color-border-primary: var(--color-gray-90);
  --color-border-secondary: var(--color-gray-70);
  --color-border-tertiary: var(--color-gray-50);

  --color-button-primary: var(--color-brand-60);
  --color-button-secondary: var(--color-gray-20);
  --color-button-tertiary: var(--color-gray-10);
  --color-button-primary-hover: var(--color-brand-80);
  --color-button-secondary-hover: var(--color-gray-30);
  --color-button-tertiary-hover: var(--color-gray-20);

  --color-link-primary: var(--color-brand-70);
  --color-link-primary-hover: var(--color-brand-90);
  --color-link-secondary: var(--color-gray-70);
  --color-link-secondary-hover: var(--color-gray-90);
  --color-link-tertiary: var(--color-gray-50);
  --color-link-tertiary-hover: var(--color-gray-70);

}

@layer components {
  
  .btn-primary {
    /* background-color: var(--color-button-primary); */
    /* @apply text-gray-10 bg-brand-60 hover:bg-brand-80 hover:text-brand-20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70; */
    /* @apply  focus:outline-none focus:ring-2 focus:ring-offset-2; */
    @apply inline-flex items-center px-2 py-2 border border-gray-30 dark:border-gray-70 text-gray-80 dark:text-gray-20 text-sm font-medium rounded-md shadow-sm text-brand-0 bg-brand-60 hover:bg-brand-80 hover:text-brand-10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70;
  }
  .btn-secondary {
    @apply border-gray-30 dark:border-gray-70 text-gray-80 hover:text-gray-100 dark:text-gray-20 dark:hover:text-gray-10 bg-gray-10 hover:bg-gray-20 dark:bg-gray-80 dark:hover:bg-gray-100 focus-visible:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70;
  }
  .btn-ghost {
    @apply text-gray-90 dark:text-gray-30 hover:text-gray-100 hover:dark:text-gray-10 bg-transparent hover:bg-gray-10 dark:hover:bg-gray-90 border-none;
  }
  .btn-ghost:disabled {
    @apply opacity-50 hover:bg-transparent cursor-not-allowed;
  }
  .btn-summary {
    @apply bg-transparent border-none text-gray-90 dark:text-gray-30 hover:text-gray-100 dark:hover:text-gray-10 hover:bg-gray-10 dark:hover:bg-gray-80 focus:outline-none focus:bg-gray-20 focus:dark:bg-gray-70 focus:ring-offset-2 focus:ring-brand-70 font-normal text-base;
  }
}

/* Overlay for ReactModal - explicit rules to avoid Tailwind config edge cases */
.wkly-overlay {
  background-color: rgba(245, 245, 245, 0.75); /* gray-50 at 65% */
  --wkly-overlay-bg: rgba(245, 245, 245, 0.75);
  /* Backdrop blur for supported browsers (and WebKit prefixed for Safari) */
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  /* In browsers that don't support backdrop-filter, the semi-transparent background still provides a dimming effect. */
  z-index: 1300;
  position: fixed;
  inset: 0;
  pointer-events: auto;
}

/* Dark mode override: darker translucent background when the app root has the `dark` class */
.dark .wkly-overlay {
  background-color: rgba(10, 10, 10, 0.85); /* gray-900 at 75% for stronger overlay in dark mode */
  --wkly-overlay-bg: rgba(10, 10, 10, 0.85);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);

}

/* Respect users who prefer reduced transparency/motion: remove backdrop-filter for them */
@media (prefers-reduced-transparency: reduce), (prefers-reduced-motion: reduce) {
  .wkly-overlay {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  .dark .wkly-overlay {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}


@layer utilities {

  .input-field {
    @apply mt-1 block w-full rounded-none border-b border-gray-30 dark:border-gray-70 shadow-sm focus:border-b-2 focus:border-brand-50;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-70 dark:text-gray-40;
  }
}


@layer components {
  .card {
    @apply bg-gray-10 dark:bg-gray-90 rounded-lg shadow p-6;
  }
  
  .card-header {
    @apply text-lg font-semibold text-gray-90 mb-4;
  }
  
  .card-body {
    @apply text-gray-70;
  }
  
  .card-footer {
    @apply mt-4 flex justify-end;
  }

  /* Example animation: fade and slide down */
.menu-enter {
  opacity: 0;
  transform: translateY(-10px);
}
.menu-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 160ms ease, transform 160ms ease;
}
.menu-exit {
  opacity: 1;
  transform: translateY(0);
}
.menu-exit-active {
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 160ms ease, transform 160ms ease;
}

  .ql-stroke {
    @apply stroke-gray-40 dark:stroke-gray-70 ;
  }
  .ql-fill {
    @apply fill-gray-70 dark:fill-gray-40 hover:fill-gray-90 dark:hover:fill-gray-10;
  }
  .ql-editor {
    @apply bg-transparent text-gray-90 dark:text-gray-10 border-b border-gray-30 dark:border-gray-70 rounded-none shadow-sm sm:text-lg lg:text-2xl md:text-xl;
  }
 /* .ql-toolbar {
    @apply flex flex-row bg-gray-90 dark:bg-gray-10 border border-gray-30 dark:border-gray-70 rounded shadow-sm justify-center items-center;
  } */

.ql-tooltip {
    @apply bg-gray-90 dark:bg-gray-10;
  }
.ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow {
    @apply border-gray-90 dark:border-b-gray-10;
    border-bottom: 6px;
  }
  .ql-bubble .ql-toolbar button {
    @apply text-gray-40 dark:text-gray-70 hover:text-gray-90 dark:hover:text-gray-10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-70;
  }
  .ql-bubble .ql-toolbar .ql-active, .ql-bubble .ql-toolbar button:hover {
    /* background: blue !important; */
    @apply bg-brand-30 dark:bg-brand-60;
  }
  .ql-editor.ql-blank::before {
    @apply text-gray-40 dark:text-gray-30;
  }
  .MuiFormControlLabel-label {
    @apply text-xs !important;
  }
  
} 